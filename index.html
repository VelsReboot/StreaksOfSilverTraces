<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Streaks of Silver Traces by Vel Watts</title>
<style>
  body {
    margin: 0; padding: 2rem;
    background: #111; color: #eee;
    font-family: Georgia, serif;
    overflow-x: hidden;
  }
  .center-screen {
    position: fixed;
    top: 50%; left: 50%;
    transform: translate(-50%, -50%);
    text-align: center;
    max-width: 700px;
  }
  h1, h2 {
    margin: 0 0 1rem;
    color: #ccc;
  }
  pre {
    white-space: pre-wrap;
    font-family: 'Courier New', monospace;
    font-size: 1rem;
    color: #ddd;
    margin: 0 auto;
    max-width: 700px;
  }

  /* Animations */
  @keyframes popIn {
    0% {opacity: 0; transform: translate(-50%, -50%) scale(0.5);}
    100% {opacity: 1; transform: translate(-50%, -50%) scale(1);}
  }
  @keyframes slideUpFadeOut {
    0% {opacity: 1; transform: translate(-50%, -50%) translateY(0);}
    100% {opacity: 0; transform: translate(-50%, -50%) translateY(-150%);}
  }

  /* Title container */
  #title-container {
    position: fixed;
    top: 50%; left: 50%;
    transform: translate(-50%, -50%);
    animation: popIn 1s forwards;
    z-index: 10;
  }

  #title-container.hide {
    animation: slideUpFadeOut 1s forwards;
  }

  /* Preface container */
  #preface-container {
    position: fixed;
    top: 50%; left: 50%;
    transform: translate(-50%, -50%);
    opacity: 0;
    text-align: center;
    max-width: 700px;
    max-height: 80vh;
    overflow-y: auto;
    padding: 1rem;
    transition: opacity 1s ease;
    z-index: 9;
  }
  #preface-container.visible {
    opacity: 1;
  }

  /* Poems container */
  #poem-container {
    max-width: 700px;
    margin: 100vh auto 4rem;
    opacity: 0;
    transition: opacity 1s ease;
    overflow-y: auto;
    max-height: 80vh;
    border-top: 1px solid #444;
    padding-top: 2rem;
  }
  #poem-container.visible {
    opacity: 1;
  }
  .poem {
    margin-bottom: 6rem;
    opacity: 0;
    transform: translateY(20px);
    transition: opacity 1s ease, transform 1s ease;
    max-height: 75vh;
  }
  .poem.visible {
    opacity: 1;
    transform: translateY(0);
  }

  /* Scroll down arrow blink */
  @keyframes blink {
    0%, 50%, 100% {opacity: 1;}
    25%, 75% {opacity: 0.3;}
  }
  #title-container > div {
    color:#666; font-style: italic; margin-top:1rem; user-select:none; animation: blink 1.5s infinite;
  }
</style>
</head>
<body>

<!-- Title section -->
<div id="title-container">
  <h1>Streaks of Silver Traces</h1>
  <div>scroll down â†“</div>
</div>

<!-- Preface -->
<div id="preface-container">
  <h2>Preface</h2>
  <pre>I may deafen you with my internal screaming, and I can assure you. I mean no harm.</pre>
</div>

<!-- Poems container -->
<div id="poem-container"></div>

<script>
  const poems = [
    {
      title: "Untitled",
      text: `I lift my covers, the light burns me.
The Darkness Too.
I Approach The Front Gate, Cautious like Prey.
They Do Not Know Who I Was.
I Do not know who I am.`
    },
    {
      title: "Reminicience",
      text: `I Lay In Bed, The Sun a distant memory, I dream; I dream of time. I dream of worlds.
"I wish to dream of people." I say, I dream of Buildings. I dream of Space. They tell me: "How dare you dream." Tomorrow is another realm.`
    },
    // Add all your poems here similarly
  ];

  const titleContainer = document.getElementById('title-container');
  const prefaceContainer = document.getElementById('preface-container');
  const poemContainer = document.getElementById('poem-container');

  // Render poems into poem container
  poems.forEach(p => {
    const div = document.createElement('div');
    div.classList.add('poem');
    div.innerHTML = `<h2>${p.title}</h2><pre>${p.text}</pre>`;
    poemContainer.appendChild(div);
  });

  let poemIndex = -1; // -1 = preface, 0+ = poem index
  let titleHidden = false;
  let scrollTimeout = null;
  let lastDeltaY = 0;

  function clearScrollTimer() {
    if(scrollTimeout) {
      clearTimeout(scrollTimeout);
      scrollTimeout = null;
    }
  }

  function startScrollTimer(direction) {
    clearScrollTimer();
    scrollTimeout = setTimeout(() => {
      if(direction === 'down' && poemIndex < poems.length -1) {
        nextPoem();
      } else if(direction === 'up' && poemIndex > 0) {
        prevPoem();
      } else if(direction === 'up' && poemIndex === 0) {
        // scroll up from first poem: show preface again
        hidePoem(poemIndex);
        poemIndex = -1;
        poemContainer.classList.remove('visible');
        prefaceContainer.classList.add('visible');
        poemContainer.scrollTop = 0;
      }
    }, 2000);
  }

  function nextPoem() {
    hidePoem(poemIndex);
    poemIndex++;
    showPoem(poemIndex);
    poemContainer.scrollTop = 0;
  }

  function prevPoem() {
    hidePoem(poemIndex);
    poemIndex--;
    showPoem(poemIndex);
    poemContainer.scrollTop = 0;
  }

  function showPoem(index) {
    poemsDivs.forEach((div,i) => {
      if(i === index) {
        div.classList.add('visible');
        div.scrollIntoView({behavior:'smooth', block:'start'});
      } else {
        div.classList.remove('visible');
      }
    });
  }

  function hidePoem(index) {
    if(poemsDivs[index]) {
      poemsDivs[index].classList.remove('visible');
    }
  }

  // Wait for DOM to be ready before getting poems divs
  const poemsDivs = poemContainer.querySelectorAll('.poem');

  // Listen for first scroll to hide title and show preface
  window.addEventListener('wheel', function onFirstScroll(e) {
    if (!titleHidden && e.deltaY > 0) {
      titleHidden = true;
      titleContainer.classList.add('hide');
      setTimeout(() => {
        titleContainer.style.display = 'none';
        prefaceContainer.classList.add('visible');
        poemContainer.style.opacity = '0';
      }, 1000);
      window.removeEventListener('wheel', onFirstScroll);
    }
  });

  // Handle scroll inside poem container or preface -> poem transitions
  poemContainer.addEventListener('wheel', (e) => {
    if(poemIndex === -1) {
      // From preface to first poem on scroll down
      if(e.deltaY > 0) {
        prefaceContainer.classList.remove('visible');
        poemContainer.classList.add('visible');
        poemIndex = 0;
        showPoem(poemIndex);
        poemContainer.scrollTop = 0;
      }
      return;
    }

    const atBottom = poemContainer.scrollTop + poemContainer.clientHeight >= poemContainer.scrollHeight - 1;
    const atTop = poemContainer.scrollTop <= 0;

    if(e.deltaY > 0) { // scroll down
      if(atBottom) {
        if(lastDeltaY <= 0) clearScrollTimer();
        startScrollTimer('down');
      } else {
        clearScrollTimer();
      }
    } else { // scroll up
      if(atTop) {
        if(lastDeltaY >= 0) clearScrollTimer();
        startScrollTimer('up');
      } else {
        clearScrollTimer();
      }
    }
    lastDeltaY = e.deltaY;
  });
</script>

</body>
</html>
